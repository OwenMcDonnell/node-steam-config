language:
  - node_js
  - version: 8

os:
  - linux
  - osx

cache:
  yarn: true

before_install:
  - nvm install --lts
  - nvm use 'lts/*'
  - npm i -g yarn
  - nvm --version
  - npm --version
  - node --version
  - yarn --version
  - yarn

script:
  - yarn lint
  - unameOut="$(uname -s)";
    if [[ $unameOut == *"Linux"* ]]; then
        ls /home/travis/build/l3laze/node-steam-config/test ;
        chmod -R ugo+rwx /home/travis/build/l3laze/node-steam-config ;
    fi
  - yarn nyc

after_success:
  - chmod 0755 /Users/travis/build/l3laze/node-steam-config/.nyc_output
  - yarn textcov
  - yarn codecov && yarn codacy

notifications:
  email: false
